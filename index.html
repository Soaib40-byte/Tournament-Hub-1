<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFBS E-SPORTS - Premium Gaming Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00f2fe; --secondary: #4facfe; --accent: #ff4757; --dark-bg: #0b1120; --glass: rgba(255, 255, 255, 0.05); --glass-border: rgba(255, 255, 255, 0.1); }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--dark-bg); background-image: radial-gradient(circle at 10% 20%, rgba(0, 242, 254, 0.05) 0%, transparent 20%), radial-gradient(circle at 90% 80%, rgba(79, 172, 254, 0.05) 0%, transparent 20%); background-attachment: fixed; font-family: 'Poppins', sans-serif; color: #ffffff; margin: 0; padding-bottom: 90px; overflow-x: hidden; }
        .container { padding: 20px; max-width: 480px; margin: auto; }
        .section-fade { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Login Styles */
        #login-screen { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; }
        .login-box { width: 90%; max-width: 350px; padding: 30px; background: var(--glass); border-radius: 24px; border: 1px solid var(--glass-border); backdrop-filter: blur(10px); }
        .login-box i { font-size: 4em; background: linear-gradient(to bottom, #00f2fe, #4facfe); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 15px; }
        .auth-input { width: 100%; padding: 12px; margin: 8px 0; border-radius: 12px; border: 1px solid #4a5568; background: #1a202c; color: white; outline: none; }
        .auth-btn { width: 100%; padding: 14px; margin-top: 15px; border-radius: 12px; border: none; background: linear-gradient(135deg, #00f2fe, #4facfe); color: #0b1120; font-weight: 700; cursor: pointer; }

        /* UI Styles */
        .top-nav { display: flex; justify-content: space-between; align-items: center; padding: 20px; position: sticky; top: 0; background: rgba(11, 17, 32, 0.8); backdrop-filter: blur(10px); z-index: 1000; }
        .balance-pill { background: linear-gradient(135deg, #00b894, #00d2ff); padding: 6px 15px; border-radius: 50px; font-weight: 700; font-size: 0.9em; display: flex; align-items: center; gap: 5px; }
        .glass-card { background: var(--glass); backdrop-filter: blur(15px); border: 1px solid var(--glass-border); border-radius: 24px; padding: 20px; margin-bottom: 20px; }
        .game-banner { position: relative; height: 160px; border-radius: 20px; overflow: hidden; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1); }
        .game-banner img { width: 100%; height: 100%; object-fit: cover; }
        .game-overlay { position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); font-family: 'Rajdhani', sans-serif; font-size: 1.5em; font-weight: 700; }
        .match-card { background: #161f32; border-radius: 20px; margin-bottom: 25px; overflow: hidden; border: 1px solid rgba(255,255,255,0.05); }
        .match-header { height: 100px; padding: 15px; display: flex; flex-direction: column; justify-content: flex-end; background-size: cover; }
        .match-body { padding: 18px; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
        .stat-box { background: rgba(255,255,255,0.03); padding: 8px; border-radius: 12px; text-align: center; }
        .stat-label { font-size: 0.7em; opacity: 0.6; display: block; }
        .stat-value { font-weight: 600; color: var(--primary); font-size: 0.9em; }
        .timer-box { background: rgba(255, 71, 87, 0.1); color: #ff4757; padding: 8px; border-radius: 10px; text-align: center; font-size: 0.8em; margin-bottom: 15px; border: 1px dashed rgba(255, 71, 87, 0.3); }
        .progress-bar { height: 6px; background: #2d3748; border-radius: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.5s; }
        .btn-action { width: 100%; padding: 12px; border: none; background: linear-gradient(to right, #00f2fe, #4facfe); color: #0b1120; font-weight: 700; border-radius: 12px; cursor: pointer; }
        .btn-joined { background: #2d3748 !important; color: #718096 !important; cursor: not-allowed; }
        .navbar { position: fixed; bottom: 20px; left: 20px; right: 20px; background: rgba(22, 31, 50, 0.95); border-radius: 20px; display: flex; justify-content: space-around; padding: 12px; border: 1px solid rgba(255,255,255,0.08); z-index: 2000; }
        .nav-item { color: #4a5568; font-size: 1.4em; padding: 10px 20px; transition: 0.3s; }
        .nav-item.active { color: var(--primary); }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 3000; padding: 20px; }
        .modal-content { background: #1a202c; width: 100%; max-width: 360px; padding: 25px; border-radius: 24px; border: 1px solid var(--glass-border); text-align: center; }
        .modal-input { width: 100%; background: #2d3748; border: 1px solid #4a5568; padding: 12px; border-radius: 12px; color: white; margin-bottom: 10px; outline: none; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div id="login-screen">
    <div class="login-box section-fade">
        <i class="fas fa-user-shield"></i>
        <h1 style="font-family: 'Rajdhani'; font-size: 1.8em; margin: 0 0 20px 0;">PLAYER LOGIN</h1>
        <input type="text" id="auth-username" class="auth-input" placeholder="Username (Unique)">
        <input type="password" id="auth-password" class="auth-input" placeholder="Password">
        <button class="auth-btn" onclick="handleAuth()">LOGIN / REGISTER</button>
        <p style="font-size: 0.7em; opacity: 0.5; margin-top: 15px;">New user? Just enter a unique username and password to create account.</p>
    </div>
</div>

<div id="app-ui" class="hidden">
    <div class="top-nav">
        <div style="font-family: 'Rajdhani'; font-weight: 700; font-size: 1.2em;">FFBS E-SPORTS</div>
        <div class="balance-pill">
            <i class="fas fa-wallet"></i> <span id="top-balance">à§³ 0</span>
        </div>
    </div>

    <div id="home-sec" class="container section-fade">
        <div class="game-banner" onclick="showFFSection('Free Fire')">
            <img src="https://img.freepik.com/premium-photo/fire-background-gaming-banner_1029473-195973.jpg">
            <div class="game-overlay">FREE FIRE MAX</div>
        </div>
        <div class="game-banner" onclick="showFFSection('Blood Strike')">
            <img src="https://images.wallpapersden.com/image/download/skull-warrior-gaming-art_bGxtZmuUmZqaraWkpJRmbmdlrWZmZ2U.jpg">
            <div class="game-overlay">BLOOD STRIKE</div>
        </div>
    </div>

    <div id="ff-sec" class="container hidden section-fade">
        <div style="display:flex; align-items:center; gap:15px; margin-bottom:20px;">
            <i class="fas fa-arrow-left" onclick="showHome()"></i>
            <h2 id="match-section-title" style="margin:0; font-family: 'Rajdhani';">MATCHES</h2>
        </div>
        <div id="matchContainer"></div>
    </div>

    <div id="wallet-sec" class="container hidden section-fade">
        <div class="glass-card" style="text-align:center;">
            <p style="opacity: 0.6;">Total Balance</p>
            <h1 style="font-size: 2.5em; margin: 10px 0; color: var(--primary);">à§³ <span id="current-balance">0</span></h1>
            <div style="display:flex; gap:10px; margin-top: 20px;">
                <button class="btn-action" style="background: #2ed573; color: white;" onclick="showAddMoney()">Deposit</button>
                <button class="btn-action" style="background: #57606f; color: white;" onclick="handleWithdraw()">Withdraw</button>
            </div>
        </div>
        <div id="add-money-list" class="hidden section-fade">
            <div class="glass-card" onclick="payVia('Bkash')" style="display:flex; justify-content:space-between; cursor:pointer;">
                <span><i class="fas fa-mobile-alt" style="color:#e91e63; margin-right:10px;"></i> Bkash Personal</span>
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <div id="profile-sec" class="container hidden section-fade">
        <div class="glass-card" style="text-align:center;">
            <img src="https://ui-avatars.com/api/?background=00f2fe&color=0b1120&size=128&name=User" id="prof-img" style="width:80px; border-radius:50%; border:3px solid var(--primary);">
            <h2 id="u-name-display" style="margin: 10px 0 5px 0;">Player</h2>
            <p style="opacity:0.5; font-size:0.8em;">ID: <span id="display-uid"></span></p>
            <button onclick="logout()" style="background:none; border:1px solid #ff4757; color:#ff4757; padding:5px 15px; border-radius:8px; margin-top:10px; cursor:pointer;">Logout</button>
        </div>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
            <div class="glass-card" style="text-align:center;"><p style="font-size:0.8em; opacity:0.6; margin:0;">Matches</p><h2 id="matches-count" style="margin:5px 0;">0</h2></div>
            <div class="glass-card" style="text-align:center;"><p style="font-size:0.8em; opacity:0.6; margin:0;">Rank</p><h2 style="margin:5px 0; color:#ffd700;">Pro</h2></div>
        </div>
    </div>

    <nav class="navbar">
        <div class="nav-item active" id="n-home" onclick="showHome()"><i class="fas fa-th-large"></i></div>
        <div id="n-wallet" class="nav-item" onclick="showWallet()"><i class="fas fa-wallet"></i></div>
        <div id="n-profile" class="nav-item" onclick="showProfile()"><i class="fas fa-user-circle"></i></div>
    </nav>
</div>

<div id="custom-modal" class="modal-overlay hidden">
    <div class="modal-content section-fade">
        <h3 id="modal-title">Confirm</h3>
        <p id="modal-desc" style="opacity: 0.7; font-size: 0.9em;"></p>
        <div id="modal-input-container"></div>
        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button onclick="closeModal()" style="flex:1; padding:12px; border-radius:12px; border:none; background:#2d3748; color:white;">Cancel</button>
            <button id="modal-confirm" style="flex:1; padding:12px; border-radius:12px; border:none; background:var(--primary); color:#0b1120; font-weight:700;">Confirm</button>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyDgBrES-3lWjeFVo6vz3jfMOyCl_tgy_RQ",
        authDomain: "tournament-hub-a936a.firebaseapp.com",
        databaseURL: "https://tournament-hub-a936a-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "tournament-hub-a936a",
        storageBucket: "tournament-hub-a936a.appspot.com",
        messagingSenderId: "968072956918",
        appId: "1:968072956918:web:fee6b8c7cfdf1f77c115d7"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    let balance = 0, mCount = 0, userId = localStorage.getItem("uid");

    function handleAuth() {
        const user = document.getElementById('auth-username').value.trim().toLowerCase();
        const pass = document.getElementById('auth-password').value.trim();

        if(user.length < 3 || pass.length < 4) return alert("Username (min 3) & Password (min 4) required");

        db.ref('usernames/' + user).once('value', snap => {
            if(snap.exists()) {
                const existingUid = snap.val();
                db.ref('users/' + existingUid).once('value', uSnap => {
                    const data = uSnap.val();
                    if(data.password === pass) {
                        doLogin(existingUid, user);
                    } else {
                        alert("Wrong Password!");
                    }
                });
            } else {
                const newUid = "uid_" + Date.now();
                db.ref('usernames/' + user).set(newUid);
                db.ref('users/' + newUid).set({
                    username: user,
                    password: pass,
                    balance: 0,
                    matches: 0,
                    createdAt: Date.now()
                }).then(() => doLogin(newUid, user));
            }
        });
    }

    function doLogin(uid, username) {
        localStorage.setItem('uid', uid);
        localStorage.setItem('username', username);
        localStorage.setItem('loggedIn', 'true');
        location.reload();
    }

    function logout() { localStorage.clear(); location.reload(); }

    function checkAuth() {
        if(localStorage.getItem('loggedIn')) {
            userId = localStorage.getItem('uid');
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('app-ui').classList.remove('hidden');
            document.getElementById('u-name-display').innerText = localStorage.getItem('username').toUpperCase();
            document.getElementById('display-uid').innerText = userId.slice(-6).toUpperCase();
            document.getElementById('prof-img').src = `https://ui-avatars.com/api/?background=00f2fe&color=0b1120&size=128&name=${localStorage.getItem('username')}`;
            
            db.ref("users/" + userId + "/balance").on("value", snap => {
                balance = snap.val() || 0;
                document.getElementById('current-balance').innerText = balance;
                document.getElementById('top-balance').innerText = "à§³ " + balance;
            });
            db.ref("users/" + userId + "/matches").on("value", snap => {
                mCount = snap.val() || 0;
                document.getElementById('matches-count').innerText = mCount;
            });
        }
    }

    function formatTime(ts) {
        const date = new Date(Number(ts));
        return isNaN(date.getTime()) ? "TBA" : date.toLocaleString('en-US', { day:'numeric', month:'short', hour:'numeric', minute:'numeric', hour12:true });
    }

    function startLiveTimer(target, elementId, btnId) {
        const x = setInterval(() => {
            const distance = Number(target) - new Date().getTime();
            const display = document.getElementById(elementId);
            const btn = document.getElementById(btnId);
            if (!display) { clearInterval(x); return; }
            if (distance < 0) {
                clearInterval(x);
                display.innerHTML = "ðŸ”´ MATCH STARTED";
                if (btn && !btn.innerText.includes("JOINED") && btn.innerText !== "MATCH FULL") {
                    btn.innerText = "ENTRY CLOSED"; btn.disabled = true; btn.classList.add('btn-joined');
                }
            } else {
                const h = Math.floor((distance % 86400000) / 3600000);
                const m = Math.floor((distance % 3600000) / 60000);
                const s = Math.floor((distance % 60000) / 1000);
                display.innerHTML = `<i class="far fa-clock"></i> Starts in: ${h}h ${m}m ${s}s`;
            }
        }, 1000);
    }

    function showFFSection(game) {
        hideAll(); document.getElementById('ff-sec').classList.remove('hidden');
        document.getElementById('match-section-title').innerText = game.toUpperCase();
        loadMatches(game);
    }

    // --- à¦†à¦ªà¦¡à§‡à¦Ÿà§‡à¦¡ loadMatches à¦«à¦¾à¦‚à¦¶à¦¨ (à¦¨à¦¤à§à¦¨ à¦®à§à¦¯à¦¾à¦š à¦‰à¦ªà¦°à§‡ à¦¦à§‡à¦–à¦¾à¦¨à§‹à¦° à¦œà¦¨à§à¦¯) ---
    function loadMatches(game) {
        db.ref('matches').on('value', snap => {
            const container = document.getElementById('matchContainer');
            container.innerHTML = '';
            
            // à¦¡à§‡à¦Ÿà¦¾à¦—à§à¦²à§‹à¦•à§‡ à¦à¦•à¦Ÿà¦¿ Array-à¦¤à§‡ à¦¨à¦¿à§Ÿà§‡ à¦°à¦¿à¦­à¦¾à¦°à§à¦¸ à¦•à¦°à¦¾ à¦¹à¦šà§à¦›à§‡
            let matches = [];
            snap.forEach(child => {
                const m = child.val();
                m.key = child.key;
                if (m.game === game) {
                    matches.push(m);
                }
            });

            // à¦¨à¦¤à§à¦¨ à¦®à§à¦¯à¦¾à¦šà¦—à§à¦²à§‹ à¦¸à¦¬à¦¾à¦° à¦‰à¦ªà¦°à§‡ à¦¦à§‡à¦–à¦¾à¦¨à§‹à¦° à¦œà¦¨à§à¦¯ à¦°à¦¿à¦­à¦¾à¦°à§à¦¸ à¦²à§à¦ª
            matches.reverse().forEach(m => {
                const mId = m.key;
                const card = document.createElement('div');
                card.className = 'match-card';
                card.innerHTML = `
                    <div class="match-header" style="background-image: linear-gradient(rgba(0,0,0,0.4), rgba(22,31,50,1)), url('https://img.freepik.com/premium-photo/fire-background-gaming-banner_1029473-195973.jpg')">
                        <div class="match-title">${m.title}</div>
                        <div style="font-size: 0.7em; opacity: 0.8;"><i class="far fa-calendar"></i> ${formatTime(m.time)}</div>
                    </div>
                    <div class="match-body">
                        <div class="stats-grid">
                            <div class="stat-box"><span class="stat-label">PRIZE</span><span class="stat-value">à§³${m.prize}</span></div>
                            <div class="stat-box"><span class="stat-label">ENTRY</span><span class="stat-value">à§³${m.entryFee}</span></div>
                            <div class="stat-box"><span class="stat-label">MODE</span><span class="stat-value">${m.type}</span></div>
                            <div class="stat-box" id="jc-${mId}"><span class="stat-label">JOINED</span><span class="stat-value">0/${m.limit}</span></div>
                        </div>
                        <div class="progress-bar" style="margin-bottom:10px;"><div class="progress-fill" id="bar-${mId}"></div></div>
                        <div class="timer-box" id="timer-${mId}">...</div>
                        <div style="display:flex; gap:8px; margin-bottom:10px;">
                            <button class="btn-action" style="background:#2d3748; color:white;" onclick="showPlayers('${mId}')">Players</button>
                            <button class="btn-action" style="background:#2d3748; color:white;" onclick="showDetails('${mId}')">Room</button>
                        </div>
                        <button id="jb-${mId}" class="btn-action" onclick="handleJoin('${mId}', ${m.entryFee}, ${m.limit}, '${m.game}')">Join Tournament</button>
                    </div>`;
                container.appendChild(card);
                
                db.ref("matchPlayers/"+mId).on('value', pSnap => {
                    const count = pSnap.numChildren();
                    if(document.getElementById(`jc-${mId}`)) document.getElementById(`jc-${mId}`).querySelector('.stat-value').innerText = `${count}/${m.limit}`;
                    if(document.getElementById(`bar-${mId}`)) document.getElementById(`bar-${mId}`).style.width = (count/m.limit)*100+"%";
                    if(count >= m.limit) {
                        const b = document.getElementById(`jb-${mId}`);
                        if(b && b.innerText !== "JOINED âœ…") { b.innerText="MATCH FULL"; b.disabled=true; b.classList.add('btn-joined'); }
                    }
                });
                startLiveTimer(m.time, `timer-${mId}`, `jb-${mId}`);
                db.ref(`users/${userId}/joinedMatches/${mId}`).on("value", jSnap => {
                    if(jSnap.exists()) {
                        const b = document.getElementById("jb-"+mId);
                        if(b) { b.innerText="JOINED âœ…"; b.disabled=true; b.classList.add('btn-joined'); }
                    }
                });
            });
        });
    }

    function handleJoin(mId, fee, limit, game) {
        if(balance < fee) return alert("âŒ Insufficient Balance");
        db.ref('matches/' + mId).once('value', snap => {
            const mode = snap.val().type || "Solo";
            openDynamicModal(mode, `Registering for ${game}`, (ign) => {
                db.ref("matchPlayers/"+mId).once("value", pSnap => {
                    if(pSnap.numChildren() >= limit) return alert("âŒ Match Full");
                    db.ref("users/"+userId+"/balance").set(balance - fee);
                    db.ref("users/"+userId+"/joinedMatches/"+mId).set({ign: ign, time: Date.now()});
                    db.ref("matchPlayers/"+mId+"/"+userId).set({gameName: ign, userId: userId});
                    db.ref("users/"+userId+"/matches").transaction(c => (c||0)+1);
                    alert("âœ… Joined!");
                });
            });
        });
    }

    function openDynamicModal(mode, desc, callback) {
        const container = document.getElementById('modal-input-container');
        container.innerHTML = ''; 
        let count = mode === 'Duo' ? 2 : (mode === 'Squad' ? 4 : 1);
        for(let i=1; i<=count; i++) {
            const input = document.createElement('input');
            input.type = "text"; input.className = "modal-input";
            input.placeholder = count > 1 ? `Player ${i} Game Name` : "Enter Game Name";
            container.appendChild(input);
        }
        document.getElementById('modal-title').innerText = mode + " Registration";
        document.getElementById('modal-desc').innerText = desc;
        document.getElementById('custom-modal').classList.remove('hidden');
        document.getElementById('modal-confirm').onclick = () => {
            const inputs = container.querySelectorAll('.modal-input');
            let names = [];
            inputs.forEach(inp => { if(inp.value.trim()) names.push(inp.value.trim()); });
            if(names.length === count) { callback(names.join(", ")); closeModal(); } else { alert("Fill all fields!"); }
        };
    }

    function openModal(title, desc, placeholder, callback) {
        const container = document.getElementById('modal-input-container');
        container.innerHTML = `<input type="text" id="modal-single-input" class="modal-input" placeholder="${placeholder}">`;
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-desc').innerText = desc;
        document.getElementById('custom-modal').classList.remove('hidden');
        document.getElementById('modal-confirm').onclick = () => {
            const val = document.getElementById('modal-single-input').value.trim();
            if(val) { callback(val); closeModal(); }
        };
    }

    function closeModal() { document.getElementById('custom-modal').classList.add('hidden'); }
    function showHome() { hideAll(); document.getElementById('home-sec').classList.remove('hidden'); setActiveNav('n-home'); }
    function showWallet() { hideAll(); document.getElementById('wallet-sec').classList.remove('hidden'); setActiveNav('n-wallet'); }
    function showProfile() { hideAll(); document.getElementById('profile-sec').classList.remove('hidden'); setActiveNav('n-profile'); }
    function hideAll() { ['home-sec','ff-sec','profile-sec','wallet-sec'].forEach(s => document.getElementById(s)?.classList.add('hidden')); }
    function setActiveNav(id) { document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active')); document.getElementById(id).classList.add('active'); }
    function showAddMoney() { document.getElementById('add-money-list').classList.toggle('hidden'); }

    function payVia(method) {
        openModal("Deposit", "Enter amount", "100", (amt) => {
            setTimeout(() => {
                openModal("Verify", "Send money to 01989118735 and enter TRX ID", "TRX...", (tid) => {
                    db.ref("depositRequests").push({userId:userId, username:localStorage.getItem('username'), amount:amt, transactionId:tid, status:"pending", time:Date.now()});
                    alert("âœ… Sent!");
                });
            }, 300);
        });
    }

    function handleWithdraw() {
        openModal("Withdraw", "Min à§³50", "50", (amtVal) => {
            const amt = Number(amtVal);
            if (balance < amt || amt < 50) return alert("Invalid amount/balance");
            setTimeout(() => {
                openModal("Bkash", "Enter Number", "017...", (num) => {
                    db.ref("withdrawRequests").push({userId:userId, username:localStorage.getItem('username'), amount:amt, accountNumber:num, status:"pending", time:Date.now()});
                    db.ref("users/"+userId+"/balance").set(balance - amt);
                    alert("âœ… Sent!");
                });
            }, 300);
        });
    }

    function showPlayers(mId) {
        db.ref("matchPlayers/"+mId).once("value", snap => {
            if(!snap.exists()) return alert("No players");
            let l = "Players:\n"; snap.forEach(c => l += "â€¢ " + c.val().gameName + "\n"); alert(l);
        });
    }

    function showDetails(mId) {
        db.ref(`users/${userId}/joinedMatches/${mId}`).once("value", jSnap => {
            if(!jSnap.exists()) return alert("Join first!");
            db.ref("matches/"+mId).once("value", snap => alert(`Room ID: ${snap.val().roomId}\nPass: ${snap.val().roomPass}`));
        });
    }

    window.onload = checkAuth;
</script>
</body>
</html>
